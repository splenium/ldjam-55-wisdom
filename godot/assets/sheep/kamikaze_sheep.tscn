[gd_scene load_steps=10 format=3 uid="uid://bohqggmq4p1a2"]

[ext_resource type="Script" path="res://assets/sheep/kamikaze_sheep.gd" id="1_fb5xn"]
[ext_resource type="Script" path="res://scripts/KamkikazeDetectorArea.gd" id="2_tmm8i"]
[ext_resource type="Texture2D" uid="uid://donhksedhl7lv" path="res://sprites/kamikaze/kamikaze_back.png" id="3_kouko"]
[ext_resource type="Material" uid="uid://coyalfatp35lh" path="res://materials/kamikaze_sheep.tres" id="4_dwi57"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_54k4d"]
friction = 0.0

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_stp56"]
radius = 0.0790922
height = 0.361455

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_shrpe"]
radius = 0.0795024
height = 2.283

[sub_resource type="QuadMesh" id="QuadMesh_dd2hg"]

[sub_resource type="Gradient" id="Gradient_guvci"]
offsets = PackedFloat32Array(0.44359, 0.797436)
colors = PackedColorArray(1, 1, 1, 1, 1, 0.564706, 0.0235294, 1)

[node name="KamikazeSheep" type="RigidBody3D"]
collision_mask = 85
axis_lock_angular_x = true
axis_lock_angular_y = true
axis_lock_angular_z = true
mass = 30.0
physics_material_override = SubResource("PhysicsMaterial_54k4d")
linear_velocity = Vector3(0, 2, -2)
script = ExtResource("1_fb5xn")
speed = Vector3(1000, 0, 500)

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_stp56")

[node name="ExplodeDetector" type="Area3D" parent="."]
collision_mask = 85
script = ExtResource("2_tmm8i")

[node name="CollisionShape3D" type="CollisionShape3D" parent="ExplodeDetector"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.36008, 0)
shape = SubResource("CapsuleShape3D_shrpe")

[node name="BackSprite" type="Sprite3D" parent="."]
transform = Transform3D(0.01, 0, 0, 0, 0.00819152, 0.00573576, 0, -0.00573576, 0.00819152, 0, 0, 0)
texture = ExtResource("3_kouko")

[node name="Timer" type="Timer" parent="."]
wait_time = 3.0
one_shot = true
autostart = true

[node name="CPUParticles3D" type="CPUParticles3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.707107, 0.707107, 0, -0.707107, 0.707107, 0, -0.0365989, 0.0433126)
material_override = ExtResource("4_dwi57")
lifetime = 0.05
mesh = SubResource("QuadMesh_dd2hg")
direction = Vector3(0, -1, 0)
spread = 30.0
gravity = Vector3(0, 0, 0)
initial_velocity_min = 1.0
initial_velocity_max = 5.0
scale_amount_min = 0.01
scale_amount_max = 0.1
color_ramp = SubResource("Gradient_guvci")

[node name="CPUParticles3D2" type="CPUParticles3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.707107, 0.707107, 0, -0.707107, 0.707107, -0.0450253, -0.0480417, 0.0435473)
material_override = ExtResource("4_dwi57")
lifetime = 0.05
mesh = SubResource("QuadMesh_dd2hg")
direction = Vector3(0, -1, 0)
spread = 30.0
gravity = Vector3(0, 0, 0)
initial_velocity_min = 1.0
initial_velocity_max = 5.0
scale_amount_min = 0.01
scale_amount_max = 0.1
color_ramp = SubResource("Gradient_guvci")

[node name="CPUParticles3D3" type="CPUParticles3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.707107, 0.707107, 0, -0.707107, 0.707107, 0.0434759, -0.0480417, 0.0435473)
material_override = ExtResource("4_dwi57")
lifetime = 0.05
mesh = SubResource("QuadMesh_dd2hg")
direction = Vector3(0, -1, 0)
spread = 30.0
gravity = Vector3(0, 0, 0)
initial_velocity_min = 1.0
initial_velocity_max = 5.0
scale_amount_min = 0.01
scale_amount_max = 0.1
color_ramp = SubResource("Gradient_guvci")

[connection signal="body_entered" from="." to="." method="_on_body_entered"]
[connection signal="timeout" from="Timer" to="." method="explode"]
